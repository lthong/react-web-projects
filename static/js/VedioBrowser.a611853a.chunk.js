(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{109:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var a=n(92),l=n.n(a),c=n(22),i=n.n(c),o=n(13),r=n.n(o),u=n(1),s=n.n(u),d=n(9),v=n(98),m=n.n(v),b=n(23),p=n(99),f=n.n(p).a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{part:"snippet",maxResults:32,key:"AIzaSyC1w5FVpQT9-VVHGbCaOJkBuHIbCrjgoIg"}});function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=["流行音樂","美食介紹","綜藝節目","旅遊頻道","可愛寵物","居家健身","switch遊戲"],y=function(){var e,t,n=Object(u.useRef)(null),a=Object(u.useRef)(null),c=Object(u.useRef)(null),i=Object(u.useState)(!1),o=r()(i,2),v=o[0],p=o[1],O=Object(u.useState)(!1),y=r()(O,2),h=y[0],k=y[1],w=Object(u.useState)(!1),E=r()(w,2),C=E[0],N=E[1],S=Object(u.useState)("搖曳露營"),P=r()(S,2),x=P[0],I=P[1],q=Object(u.useState)(x),T=r()(q,2),R=T[0],D=T[1],A=Object(u.useState)([]),J=r()(A,2),V=J[0],z=J[1],F=Object(u.useState)(null),H=r()(F,2),L=H[0],B=H[1],G=Object(u.useState)(null),K=r()(G,2),M=K[0],Q=K[1],U=Object(u.useCallback)((function(e){I(e.target.value)}),[]),W=Object(u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=String((null==e?void 0:e.q)||"").trim();!v&&t&&(p(!0),D(t),f.get("search",{params:g({order:"viewCount",relevanceLanguage:"zh-TW"},e)}).then((function(t){var n,a,c=(null==t||null===(n=t.data)||void 0===n?void 0:n.items)||[];(null==e?void 0:e.pageToken)?z((function(e){return[].concat(l()(e),l()(c))})):z(c),B(null==t||null===(a=t.data)||void 0===a?void 0:a.nextPageToken),N(!1)})).catch((function(e){var t,n,a,l=null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.message;alert("API failed!\n".concat(l)),N(!0)})).finally((function(){p(!1)})))}),[v]),X=Object(u.useCallback)((function(){v||(I(""),a.current.focus())}),[v]),Y=Object(u.useCallback)((function(e){13===e.keyCode&&W({q:x})}),[W,x]),Z=Object(u.useCallback)((function(e){I(e),W({q:e})}),[W]),$=Object(u.useCallback)((function(e){var t,a;e&&(e.getAttribute("data-vedio-index")===String(V.length-1)&&(null===(t=c.current)||void 0===t||t.disconnect(),c.current=new IntersectionObserver((function(e){e[0].isIntersecting&&!C&&(n.current=setTimeout((function(){W({q:R,pageToken:L})}),600))}),{threshold:1,rootMargin:"0px 0px -70px 0px"}),null===(a=c.current)||void 0===a||a.observe(e)));return null}),[V,W,R,L,C]);return Object(u.useEffect)((function(){return W({q:x}),function(){clearTimeout(n.current)}}),[]),s.a.createElement("div",{className:"vedio-browser"},s.a.createElement("div",{className:"search-bar"},s.a.createElement("div",{className:"ui action input left icon fluid"},s.a.createElement("i",{className:"search icon"}),s.a.createElement("input",{ref:a,type:"text",placeholder:"Search...",value:x,onChange:U,onKeyDown:Y,autoFocus:!0}),s.a.createElement("i",{className:"times circle outline icon closed",onClick:X}),s.a.createElement("button",{className:Object(d.a)("ui icon button",{loading:v,disabled:v}),onClick:function(){W({q:x})}},"搜尋")),s.a.createElement("div",{className:"quick-search"},j.map((function(e){return s.a.createElement("button",{key:e,className:"keyword ui grey tiny button",onClick:function(){Z(e)}},e)})))),s.a.createElement("div",{className:"vedio-items"},null==V?void 0:V.map((function(e,t){var n,a,l,c,i,o;return s.a.createElement("div",{ref:$,"data-vedio-index":t,className:"item",key:"vedio-".concat(t),onClick:function(){Q(e),k(!0)}},s.a.createElement("img",{src:null==e||null===(n=e.snippet)||void 0===n||null===(a=n.thumbnails)||void 0===a||null===(l=a.medium)||void 0===l?void 0:l.url,alt:null==e||null===(c=e.snippet)||void 0===c?void 0:c.title}),s.a.createElement("div",{className:"title"},null==e||null===(i=e.snippet)||void 0===i?void 0:i.title),s.a.createElement("div",{className:"tooltip"},null==e||null===(o=e.snippet)||void 0===o?void 0:o.title))}))),s.a.createElement(b.a,null),M&&s.a.createElement("div",{className:"vedio-modal",onClick:function(e){"vedio-player"!==e.target.id&&Q(null)}},s.a.createElement("div",{className:"vedio-player",id:"vedio-player"},s.a.createElement("i",{className:"times circle icon closed",onClick:function(){Q(null)}}),h&&s.a.createElement(b.a,null),(null==M||null===(e=M.id)||void 0===e?void 0:e.videoId)&&s.a.createElement(m.a,{width:"100%",height:"100%",style:{display:h?"none":"block"},url:"https://www.youtube.com/embed/".concat(null==M||null===(t=M.id)||void 0===t?void 0:t.videoId),onReady:function(){k(!1)},controls:!0}))))};n(109),t.default=y}}]);