(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{105:function(A,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"a",(function(){return r}));var n=window.innerWidth<530,r={topHeight:55,canvasW:window.innerWidth,canvasH:window.innerHeight-55}},106:function(A,e,t){"use strict";t.d(e,"a",(function(){return n})),t.d(e,"b",(function(){return r}));var n=function(A){return Math.floor(Math.random()*A)},r=function(A){for(var e=A.length-1;e>0;e-=1){var t=n(e+1),r=[A[t],A[e]];A[e]=r[0],A[t]=r[1]}return A}},122:function(A,e,t){},129:function(A,e,t){"use strict";t.r(e);var n=t(23),r=t.n(n),a=t(103),o=t.n(a),c=t(93),i=t.n(c),u=t(13),g=t.n(u),l=t(1),C=t.n(l),f=t(94),s=t.n(f),E=t(12),b=t(105),w=t(106);function I(A,e){var t=Object.keys(A);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(A);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(A,e).enumerable}))),t.push.apply(t,n)}return t}function h(A){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?I(Object(t),!0).forEach((function(e){r()(A,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(e){Object.defineProperty(A,e,Object.getOwnPropertyDescriptor(t,e))}))}return A}function O(A,e){var t;if("undefined"==typeof Symbol||null==A[Symbol.iterator]){if(Array.isArray(A)||(t=function(A,e){if(!A)return;if("string"==typeof A)return y(A,e);var t=Object.prototype.toString.call(A).slice(8,-1);"Object"===t&&A.constructor&&(t=A.constructor.name);if("Map"===t||"Set"===t)return Array.from(A);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(A,e)}(A))||e&&A&&"number"==typeof A.length){t&&(A=t);var n=0,r=function(){};return{s:r,n:function(){return n>=A.length?{done:!0}:{done:!1,value:A[n++]}},e:function(A){throw A},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,c=!1;return{s:function(){t=A[Symbol.iterator]()},n:function(){var A=t.next();return o=A.done,A},e:function(A){c=!0,a=A},f:function(){try{o||null==t.return||t.return()}finally{if(c)throw a}}}}function y(A,e){(null==e||e>A.length)&&(e=A.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=A[t];return n}var d=b.b?280:440,U=b.b?280:440,k={ArrowDown:"ArrowUp",ArrowUp:"ArrowDown",ArrowRight:"ArrowLeft",ArrowLeft:"ArrowRight"},m=[{direction:"ArrowDown",velocityX:0,velocityY:10},{direction:"ArrowUp",velocityX:0,velocityY:-10},{direction:"ArrowRight",velocityX:10,velocityY:0},{direction:"ArrowLeft",velocityX:-10,velocityY:0}],v={x:60,y:b.b?100:60},B=b.b?[{x:220,y:100,fillStyle:"pink",direction:"ArrowDown"}]:[{x:380,y:60,fillStyle:"pink",direction:"ArrowDown"},{x:60,y:380,fillStyle:"orange",direction:"ArrowUp"},{x:380,y:380,fillStyle:"skyblue",direction:"ArrowLeft"}],R={"-":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAGpJREFUWEft2LENACAMA8F4C5Zh/5aNgB2+cfH0lsLFVbL2uVP84oBwO/2C/4PdHXRA2kEFFYQCNB47CAkVhICjoIJUgObtoIJUgObtoIJUgObtoIJUgObtoIJUgOb7O+gJGO64/wTcvuIHRwMxKfDlR3gAAAAASUVORK5CYII=","|":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAHZJREFUWEft1sENgCAQRNGlC8uwAau3AcuwC/WI4WDIJJ4eJ0hI2PydYact23FVt8597Y+/7596Xm82BU72AMFJYMN1BBH0D35ogEmYhEmYJHUBggiK/JkGzOKMXxWCCEozZnHqAgQRlGYyDZjFGT9pJuU3ErwBVA/NyRfDmJsAAAAASUVORK5CYII=",1:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAJtJREFUWEft2LEJgDAUhOH3Ost0OoYLBNxAN3MVd3AAHcMlRK0EtQrXPOFPnYPjy1Xx1C2p2n08zAY3SxbseJ2Xyc37YL3uOt7k9cKLe/5XcJvbUJwfQQoWvg+ChWCf6wgiqAqoeTaIoCqg5tkggqqAmmeDCKoCap4NIqgKqHk2iKAqoObZIIKqQGn++vF9RMJtkIKlT/q+/xY8AcNEnym50TM6AAAAAElFTkSuQmCC",2:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAKhJREFUWEftmEEKQEAYhWcoNyA3sbJ0IDfiHE5g5xxsLKUYQ5FE0Vv45c1ual69vv9rFr8O48oomSfrXJNqwQUtNpOLLmhH24oqOLumd7qtdzEOOp6vgqjYKg59sxRmwbufBAneJXX1jgRJECWA5ukgCaIE0DwdJEGUAJqngySIEkDzdJAEUQJong6SIEoAzdPBfxI8roDrMlGj3cu9cU4dZMEHo/gkwQnL5t4qMwodlwAAAABJRU5ErkJggg==",3:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAJ9JREFUWEft2LENgCAUhGGISziGC7iTKzGLCziGrZ3dkxKkejliNP5WmnD6+LyKOM6bheLa16l8fPw+z1N9MzKg8x98TzBvsOqgc8PdlzeCDOg0RtAJ1ixHEEFVQM3TQQRVATVPBxFUBdQ8HURQFVDzdBBBVUDN00EEVQE1Twf/J3g/AlYFeuebM+reH1DeZ8GOVw+YD3/Tiwe0dA5huQDiXGljJenrvwAAAABJRU5ErkJggg==",4:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAALRJREFUWEftmLENgzAQRf1TkBKaiIyRAUBig6zICNkhA8AYWSJKXAKuzIeE4lGB5H93ejzLknVtx0+YPK/nbfr58/c4z6ynGDDzH0AwE1iy/FRcju3gcuLDbRIGdB2EIAT/fRbjIA7iYKYDnMWZwJLlEISgS8DN4yAEXQJuHgch6BJw8zgIQZeAm08cdAtunVfdzC/Rpa1bePVUt8NDQXevzH5pVd1Qnd+hjy26OGi5X6t1lb9ahp5GumUYFQAAAABJRU5ErkJggg==",b:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAMRJREFUWEdjFHA4L8Dxl7H/PwNDACMDgwDD4AELfjD/L2QUtz2/gZGB0X/wuAvZJf8XMkrYXgAG3uAEQId9GNQOBAUbhgNfHDYY0OAExiiK/aMOJDU6RkOQ1BBDVz8agqMhOFoOEkgDo5lkNJOMZpLRTEJpLhgNwdEQHG3yU5YGRutiysKPgWE0BEdDcLQ1M1oXU5oLhn0I0jiASDZ+UI+w/mf4/3HwD6KDpiHY/zIsAIa9A3C0n5/kOKCZhv8LfzAzFAAASpfG/brCZCsAAAAASUVORK5CYII=","[":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAKhJREFUWEft2cERQDAQBdDdEze5UYYGMpMO6EwLStCDAqIMTWSIi0tO5jus8XP2zXr7T6EuRFcnnQ6RUUWcGDva+rio6GBsrnsc7fyW8eye7w24r70pzkKQAz7cDwUfghWPU5CCqACaZwcpiAqgeXaQgqgAmmcHKYgKoHl2kIKoAJpnBymICqB5dvB/gugXv523f8Nq/hL9+g1RJZnzakK+7W/eXhH6vhOaw5QpnbOuyQAAAABJRU5ErkJggg==","]":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAJBJREFUWEft2LENgDAQQ9FEWYJl2Ak2IhsxCnTpjqSELnJjiU+NJevF1eVlPSN5fkcrsWfjgp0tqnXB/rSXdcGxvDwcnSbYJ/eqQ8HZ10FwVuz7P4IIqgJqng0iqAqoeTaIoCqg5tkggqqAmmeDCKoCap4NIqgKqHk2+D9B7xNwP2A6F4wUt3VB8yN61FbS9gD2yGP92glBsgAAAABJRU5ErkJggg==",_:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAKtJREFUWEdjlLC98J8BCbw4bIDMpTsb6B4UOxlHHUhiHIyGIIkBhqF8NARHQ3C0HCSQBkYzyWgmGc0ko5mE0lwwGoKjITja5KcsDYzWxZSFHwPDaAiOhuBoa2a0LqY0F4yG4GgIjrZmKEsDBOtiyoynvm6MMWrqW0G+if8Z/n9kFLc9v4GRgdGffGNoqfP/QkYBh/MC7H8ZFgCtcQA6lJ+W1pFm9v+FP5gZCgD5CspjJiAzHgAAAABJRU5ErkJggg==","^":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAKNJREFUWEdjFHA4L8Dxl7H/PwNDACMDgwDD4AELfjD/L2QUtz2/gZGB0X/wuAvZJf8XMkrYXgAG3uAEQId9GNQOBAUbhgNfHDYY0OAExiiK/aMOJDU6RkOQ1BBDVz8agqMhOFoOEkgDo5lkNJOMZpLRTEJpLhgNwdEQHG3yU5YGRutiysKPgWE0BEdDcLQ1M1oXU5oLRkNwNARHWzOUpQH0uhgApY3KY3CtR7UAAAAASUVORK5CYII=","+":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAIJJREFUWEft2MENgCAQRFG2C8uwAau3AcuwC+EIx82PRsj3pAkT4e2ciO24ntI997n3n5+/t/0M/ww3mJzBfILtgEMHkwd+fXm4QWisIAQsCipIBWjeDipIBWjeDipIBWjeDipIBWjeDipIBWjeDipIBWjeDq4v6BVwcsbzXQH/fcQVgMRJKWOQ7eEAAAAASUVORK5CYII=",5:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAIlJREFUWEft2MENgCAQRFG2C8ugAau3AcuwC+UIeiIfSTTfkyaOLM85Ecu6n6m6ji3Xj9PvyzzNmuGAnf/ge4Jlg00HOzf8+uvhgNBYQQiYFFSQCtC8HVSQCtC8HVSQCtC8HVSQCtC8HVSQCtC8HVSQCtC8Hfy/4P0ImO54dP5xRj16Afo9B6SCF8PUPSn26UPXAAAAAElFTkSuQmCC",6:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABHNCSVQICAgIfAhkiAAAALRJREFUaEPtmrERgCAQBKULy7ABq7cBy7ALNUaCixZk1kznZo7fFSLKup/3Uj3XsdWfhnp/1/xZT3GQjo400hF+s3oaI63pfrnZHWS0PaIRjYAEPLVA2FGVRiJMYEgjIOyoSiMRJjCkERB2VKWRCBMY0ggIO6rSSIQJDGkEhB1VaSTCBIY0AsKOqjQSYQJDGgFhR1UaiTCBIY2AsKMqjUSYwJBGQNifqmkuDDhIz9+o1T21kQc0YNNzQ6tHrAAAAABJRU5ErkJggg==",7:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAH1JREFUWEft2LENwCAMRFG8BWNkAaZnAcZgi0CbUKT4jSN9+pPsx1WO2sZdEr9wQPg7+QX3grk76IC0gwoqCAVoPOwgJFQQAhYFFaQCNG8HFaQCNG8HFaQCNG8HFaQCNG8HFaQCNJ+/g+8T8OwXXRrl9zyP/HFhdcAP398JLgPzPSnZbk89AAAAAElFTkSuQmCC",8:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAIZJREFUWEft2MENgCAQRFHpwjJswOptwDLsAjlCOG0+MRC/J02YCG/nRNrPO2/V81xH/fn5e9lP88/kBoMzWE+wHLDpYPDAw5d3gm4waKxgEKxbrqCCVIDm7aCCVIDm7aCCVIDm7aCCVIDm7aCCVIDm7aCCVIDm7eD/BL0CDs58vSvg2Uf8AtHBbcnAoD6qAAAAAElFTkSuQmCC"},Q=b.b?[["1","-","-","-","-","-","2"],["|","_",".",".",".","_","|"],["|",".",".","^",".",".","|"],["|",".","[","+","]",".","|"],["|",".",".","_",".",".","|"],["|","^",".",".",".","^","|"],["4","-","-","-","-","-","3"]]:[["1","-","-","-","-","-","-","-","-","-","2"],["|",".",".",".",".",".",".",".",".",".","|"],["|",".","b",".","[","7","]",".","b",".","|"],["|",".",".",".",".","_",".",".",".",".","|"],["|",".","[","]",".",".",".","[","]",".","|"],["|",".",".",".",".","^",".",".",".",".","|"],["|",".","b",".","[","+","]",".","b",".","|"],["|",".",".",".",".","_",".",".",".",".","|"],["|",".","[","]",".",".",".","[","]",".","|"],["|",".",".",".",".","^",".",".",".",".","|"],["4","-","-","-","-","-","-","-","-","-","3"]],N=Q.reduce((function(A,e){return A+e.filter((function(A){return"."===A})).length}),0),J=function(){var A=Object(l.useRef)(null),e=Object(l.useRef)(null),t=Object(l.useRef)(v),n=Object(l.useRef)(B),r=Object(l.useRef)(null),a=Object(l.useRef)([]),c=Object(l.useState)(0),u=g()(c,2),f=u[0],I=u[1],y=Object(l.useCallback)((function(e){var t,n=e.fillStyle,r=e.x,a=e.y,o=e.r,c=null===(t=A.current)||void 0===t?void 0:t.getContext("2d");c.beginPath(),c.fillStyle=n,c.arc(r,a,o,0,2*Math.PI),c.fill(),c.closePath()}),[]),J=Object(l.useCallback)((function(){y({fillStyle:"yellow",x:t.current.x,y:t.current.y,r:12})}),[y]),S=Object(l.useCallback)((function(A){var e=A.x,t=A.y;y({fillStyle:"white",x:e,y:t,r:3})}),[y]),p=Object(l.useCallback)((function(){n.current.forEach((function(A){var e=A.x,t=A.y,n=A.fillStyle;y({fillStyle:n,x:e,y:t,r:12})}))}),[y]),D=Object(l.useCallback)((function(A,e){return Q.some((function(t,n){return t.some((function(t,r){var a=40*r,o=40*n;return R[t]&&A+12>a&&A-12<a+40&&e+12>o&&e-12<o+40}))}))}),[]),j=Object(l.useCallback)((function(){var A=t.current,n=A.x,o=A.y;if(r.current){var c,u=O(Q.keys());try{for(u.s();!(c=u.n()).done;){var g,l=c.value,C=Q[l],f=O(C.keys());try{for(f.s();!(g=f.n()).done;){var E=g.value,b=C[E],w=40*E+20,h=40*l+20;if("."===b&&!a.current.includes("".concat(l,"-").concat(E))&&n+12>w&&n-12<w+3&&o+12>h&&o-12<h+3)return a.current=[].concat(i()(a.current),["".concat(l,"-").concat(E)]),void I((function(A){return A+10}))}}catch(A){f.e(A)}finally{f.f()}}}catch(A){u.e(A)}finally{u.f()}a.current.length===N&&(s.a.fire({icon:"success",title:"You Win!!",text:"Press Restart To Play Again"}),clearInterval(e.current))}}),[]),H=Object(l.useCallback)((function(){var A=t.current,e=A.x,n=A.y,a=r.current;if(a){var o=m.find((function(A){return A.direction===a}));if(o){var c=e+o.velocityX,i=n+o.velocityY;D(c,i)||(t.current={x:c,y:i})}}}),[D]),Y=Object(l.useCallback)((function(){var e,t=null===(e=A.current)||void 0===e?void 0:e.getContext("2d");Q.forEach((function(A,e){A.forEach((function(A,n){var r=R[A],o=40*n,c=40*e;if(r){var i=new Image(40,40);i.src=r,t.drawImage(i,o,c,40,40)}else"."!==A||a.current.includes("".concat(e,"-").concat(n))||S({x:o+20,y:c+20})}))}))}),[S]),V=Object(l.useCallback)((function(){n.current.forEach((function(A,e){var t=A.x,r=A.y,a=A.direction,c=m.filter((function(A){var e=t+A.velocityX,n=r+A.velocityY,o=A.direction===k[a],c=D(e,n);return!o&&!c})),i=c[Object(w.a)(c.length)],u=i.velocityX,g=i.velocityY,l=o()(i,["velocityX","velocityY"]),C=t+u,f=r+g;n.current=n.current.map((function(A,t){return t===e?h(h({},A),{},{x:C,y:f},l):A}))}))}),[D]),G=Object(l.useCallback)((function(){var A=t.current,r=A.x,a=A.y;n.current.some((function(A){var e=A.x,t=A.y;return r+12>e&&r-12<e+12&&a+12>t&&a-12<t+12}))&&(s.a.fire({icon:"error",title:"Game Over!!",text:"Press Restart To Play Again"}),clearInterval(e.current))}),[]),F=Object(l.useCallback)((function(){var e;(null===(e=A.current)||void 0===e?void 0:e.getContext("2d")).clearRect(0,0,d,U),H(),Y(),J(),j(),p(),V(),G()}),[Y,H,J,j,p,V,G]),K=Object(l.useCallback)((function(){return t.current=v,n.current=B,r.current=null,a.current=[],I(0),clearInterval(e.current),e.current=setInterval(F,100),function(){clearInterval(e.current)}}),[F]);Object(l.useEffect)((function(){return K(),function(){clearInterval(e.current)}}),[]);var M=Object(l.useCallback)((function(A){r.current=A.key}),[]),L=Object(l.useCallback)((function(){M({key:"ArrowDown"})}),[M]),P=Object(l.useCallback)((function(){M({key:"ArrowLeft"})}),[M]),x=Object(l.useCallback)((function(){M({key:"ArrowRight"})}),[M]),W=Object(l.useCallback)((function(){M({key:"ArrowUp"})}),[M]);return Object(l.useEffect)((function(){return window.addEventListener("keydown",M),function(){window.removeEventListener("keydown",M)}}),[]),C.a.createElement("div",{className:"pacman-game"},C.a.createElement("div",{className:"tool-bar"},!b.b&&C.a.createElement("div",null,"鍵盤方向鍵移動"),C.a.createElement("div",{className:"score"},"score ",f),C.a.createElement("button",{className:"mini ui button",onClick:K},"restart")),C.a.createElement("canvas",{className:"canvas",ref:A,width:d,height:U}),C.a.createElement("div",{className:"direction-btns"},C.a.createElement("button",{className:"ui icon blue button down",onClick:L},C.a.createElement(E.d,null)),C.a.createElement("button",{className:"ui icon blue button left",onClick:P},C.a.createElement(E.e,null)),C.a.createElement("button",{className:"ui icon blue button right",onClick:x},C.a.createElement(E.f,null)),C.a.createElement("button",{className:"ui icon blue button up",onClick:W},C.a.createElement(E.g,null))))};t(122),e.default=J}}]);